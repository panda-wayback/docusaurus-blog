"use strict";(self.webpackChunkpanda_blog=self.webpackChunkpanda_blog||[]).push([[4868],{1185:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>c,default:()=>t,frontMatter:()=>d,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"panda-blog/server/\u5de5\u5177/Multipass \u4f7f\u7528\u6587\u6863\uff08macOS \u73af\u5883)","title":"Multipass \u4f7f\u7528\u624b\u518c","description":"Multipass \u662f\u7531 Canonical \u63d0\u4f9b\u7684\u8f7b\u91cf\u7ea7 VM \u7ba1\u7406\u5de5\u5177\uff0c\u7279\u522b\u9002\u5408\u5feb\u901f\u542f\u52a8 Ubuntu \u865a\u62df\u673a\u3002","source":"@site/docs/panda-blog/server/\u5de5\u5177/Multipass \u4f7f\u7528\u6587\u6863\uff08macOS \u73af\u5883).md","sourceDirName":"panda-blog/server/\u5de5\u5177","slug":"/panda-blog/server/\u5de5\u5177/Multipass \u4f7f\u7528\u6587\u6863\uff08macOS \u73af\u5883)","permalink":"/docusaurus-blog/docs/panda-blog/server/\u5de5\u5177/Multipass \u4f7f\u7528\u6587\u6863\uff08macOS \u73af\u5883)","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/panda-blog/server/\u5de5\u5177/Multipass \u4f7f\u7528\u6587\u6863\uff08macOS \u73af\u5883).md","tags":[],"version":"current","frontMatter":{},"sidebar":"blogPandaSidebar","previous":{"title":"ROS2 \u8bdd\u9898\u57fa\u7840","permalink":"/docusaurus-blog/docs/panda-blog/ros2/ros2\u57fa\u7840/ros2 \u8bdd\u9898(topic)/ros2 \u8bdd\u9898\u57fa\u7840"},"next":{"title":"Proxmox VE \u4f7f\u7528\u6307\u5357","permalink":"/docusaurus-blog/docs/panda-blog/server/\u5de5\u5177/Proxmox VE \u4f7f\u7528\u6307\u5357"}}');var a=n(4848),i=n(8453);const d={},c="Multipass \u4f7f\u7528\u624b\u518c",r={},h=[{value:"\ud83d\udce6 \u5b89\u88c5",id:"-\u5b89\u88c5",level:2},{value:"macOS",id:"macos",level:3},{value:"\ud83d\ude80 \u521b\u5efa\u4e0e\u7ba1\u7406\u865a\u62df\u673a",id:"-\u521b\u5efa\u4e0e\u7ba1\u7406\u865a\u62df\u673a",level:2},{value:"\u521b\u5efa\u865a\u62df\u673a\uff08\u9ed8\u8ba4 Ubuntu 22.04\uff09",id:"\u521b\u5efa\u865a\u62df\u673a\u9ed8\u8ba4-ubuntu-2204",level:3},{value:"\u6307\u5b9a\u7cfb\u7edf\u7248\u672c\u3001CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u5927\u5c0f",id:"\u6307\u5b9a\u7cfb\u7edf\u7248\u672ccpu\u5185\u5b58\u78c1\u76d8\u5927\u5c0f",level:3},{value:"\ud83d\udee0 \u7ba1\u7406\u865a\u62df\u673a",id:"-\u7ba1\u7406\u865a\u62df\u673a",level:2},{value:"\u67e5\u770b\u865a\u62df\u673a\u4fe1\u606f",id:"\u67e5\u770b\u865a\u62df\u673a\u4fe1\u606f",level:3},{value:"\u67e5\u770b\u6240\u6709\u5b9e\u4f8b",id:"\u67e5\u770b\u6240\u6709\u5b9e\u4f8b",level:3},{value:"\u767b\u5f55\u865a\u62df\u673a",id:"\u767b\u5f55\u865a\u62df\u673a",level:3},{value:"\u5220\u9664\u865a\u62df\u673a",id:"\u5220\u9664\u865a\u62df\u673a",level:3},{value:"\ud83d\udce1 \u7f51\u7edc\u4fe1\u606f",id:"-\u7f51\u7edc\u4fe1\u606f",level:2},{value:"\ud83d\udd10 SSH \u516c\u94a5\u767b\u5f55\u652f\u6301",id:"-ssh-\u516c\u94a5\u767b\u5f55\u652f\u6301",level:2},{value:"\u624b\u52a8\u6ce8\u5165\u672c\u673a SSH \u516c\u94a5\uff08\u7528\u4e8e\u5df2\u5b58\u5728\u7684\u5b9e\u4f8b\uff09",id:"\u624b\u52a8\u6ce8\u5165\u672c\u673a-ssh-\u516c\u94a5\u7528\u4e8e\u5df2\u5b58\u5728\u7684\u5b9e\u4f8b",level:3},{value:"\u2601\ufe0f \u4f7f\u7528 cloud-init \u6587\u4ef6\u521d\u59cb\u5316\u865a\u62df\u673a",id:"\ufe0f-\u4f7f\u7528-cloud-init-\u6587\u4ef6\u521d\u59cb\u5316\u865a\u62df\u673a",level:2},{value:"\u793a\u4f8b <code>cloud-init.yaml</code>",id:"\u793a\u4f8b-cloud-inityaml",level:3},{value:"\u4f7f\u7528\u8be5\u914d\u7f6e\u521b\u5efa\u865a\u62df\u673a",id:"\u4f7f\u7528\u8be5\u914d\u7f6e\u521b\u5efa\u865a\u62df\u673a",level:3},{value:"\ud83d\udccb \u67e5\u770b\u53ef\u7528\u7684\u955c\u50cf\u7248\u672c",id:"-\u67e5\u770b\u53ef\u7528\u7684\u955c\u50cf\u7248\u672c",level:2},{value:"\ud83d\udda5 \u662f\u5426\u6709\u56fe\u5f62\u754c\u9762\uff1f",id:"-\u662f\u5426\u6709\u56fe\u5f62\u754c\u9762",level:2},{value:"\ud83d\udcce \u5176\u4ed6\u5e38\u7528\u547d\u4ee4",id:"-\u5176\u4ed6\u5e38\u7528\u547d\u4ee4",level:2},{value:"\u6587\u4ef6\u4e0a\u4f20/\u4e0b\u8f7d",id:"\u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d",level:3},{value:"\u542f\u52a8 / \u505c\u6b62",id:"\u542f\u52a8--\u505c\u6b62",level:3},{value:"\u91cd\u547d\u540d\u5b9e\u4f8b",id:"\u91cd\u547d\u540d\u5b9e\u4f8b",level:3}];function u(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"multipass-\u4f7f\u7528\u624b\u518c",children:"Multipass \u4f7f\u7528\u624b\u518c"})}),"\n",(0,a.jsx)(s.p,{children:"Multipass \u662f\u7531 Canonical \u63d0\u4f9b\u7684\u8f7b\u91cf\u7ea7 VM \u7ba1\u7406\u5de5\u5177\uff0c\u7279\u522b\u9002\u5408\u5feb\u901f\u542f\u52a8 Ubuntu \u865a\u62df\u673a\u3002"}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-\u5b89\u88c5",children:"\ud83d\udce6 \u5b89\u88c5"}),"\n",(0,a.jsx)(s.h3,{id:"macos",children:"macOS"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"brew install --cask multipass\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-\u521b\u5efa\u4e0e\u7ba1\u7406\u865a\u62df\u673a",children:"\ud83d\ude80 \u521b\u5efa\u4e0e\u7ba1\u7406\u865a\u62df\u673a"}),"\n",(0,a.jsx)(s.h3,{id:"\u521b\u5efa\u865a\u62df\u673a\u9ed8\u8ba4-ubuntu-2204",children:"\u521b\u5efa\u865a\u62df\u673a\uff08\u9ed8\u8ba4 Ubuntu 22.04\uff09"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass launch --name devbox\n"})}),"\n",(0,a.jsx)(s.h3,{id:"\u6307\u5b9a\u7cfb\u7edf\u7248\u672ccpu\u5185\u5b58\u78c1\u76d8\u5927\u5c0f",children:"\u6307\u5b9a\u7cfb\u7edf\u7248\u672c\u3001CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u5927\u5c0f"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass launch --name devbox \\\n  --cpus 2 \\\n  --mem 2G \\\n  --disk 10G \\\n  22.04\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-\u7ba1\u7406\u865a\u62df\u673a",children:"\ud83d\udee0 \u7ba1\u7406\u865a\u62df\u673a"}),"\n",(0,a.jsx)(s.h3,{id:"\u67e5\u770b\u865a\u62df\u673a\u4fe1\u606f",children:"\u67e5\u770b\u865a\u62df\u673a\u4fe1\u606f"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass info devbox\n"})}),"\n",(0,a.jsx)(s.h3,{id:"\u67e5\u770b\u6240\u6709\u5b9e\u4f8b",children:"\u67e5\u770b\u6240\u6709\u5b9e\u4f8b"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass list\n"})}),"\n",(0,a.jsx)(s.h3,{id:"\u767b\u5f55\u865a\u62df\u673a",children:"\u767b\u5f55\u865a\u62df\u673a"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass shell devbox\n"})}),"\n",(0,a.jsx)(s.h3,{id:"\u5220\u9664\u865a\u62df\u673a",children:"\u5220\u9664\u865a\u62df\u673a"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass delete devbox\nmultipass purge  # \u6e05\u7406\u6b8b\u7559\u6570\u636e\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-\u7f51\u7edc\u4fe1\u606f",children:"\ud83d\udce1 \u7f51\u7edc\u4fe1\u606f"}),"\n",(0,a.jsx)(s.p,{children:"\u521b\u5efa\u7684\u865a\u62df\u673a\u4f1a\u81ea\u52a8\u5206\u914d\u79c1\u6709 IPv4 \u5730\u5740\uff1a"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass info devbox\n# IPv4: 192.168.x.x\n"})}),"\n",(0,a.jsx)(s.p,{children:"\u4f60\u53ef\u4ee5\u901a\u8fc7\u6b64 IP \u7528 SSH \u5de5\u5177\u8fde\u63a5\uff0c\u4f8b\u5982\uff1a"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"ssh ubuntu@192.168.64.11\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-ssh-\u516c\u94a5\u767b\u5f55\u652f\u6301",children:"\ud83d\udd10 SSH \u516c\u94a5\u767b\u5f55\u652f\u6301"}),"\n",(0,a.jsxs)(s.p,{children:["Multipass \u9ed8\u8ba4\u4f1a\u5c06\u4f60\u4e3b\u673a\u4e0a\u7684 ",(0,a.jsx)(s.code,{children:"~/.ssh/id_rsa.pub"})," \u6216 ",(0,a.jsx)(s.code,{children:"~/.ssh/id_ed25519.pub"})," \u81ea\u52a8\u6ce8\u5165\u865a\u62df\u673a\u3002"]}),"\n",(0,a.jsx)(s.h3,{id:"\u624b\u52a8\u6ce8\u5165\u672c\u673a-ssh-\u516c\u94a5\u7528\u4e8e\u5df2\u5b58\u5728\u7684\u5b9e\u4f8b",children:"\u624b\u52a8\u6ce8\u5165\u672c\u673a SSH \u516c\u94a5\uff08\u7528\u4e8e\u5df2\u5b58\u5728\u7684\u5b9e\u4f8b\uff09"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:'multipass exec devbox -- bash -c "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys" < ~/.ssh/id_ed25519.pub\n'})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"\ufe0f-\u4f7f\u7528-cloud-init-\u6587\u4ef6\u521d\u59cb\u5316\u865a\u62df\u673a",children:"\u2601\ufe0f \u4f7f\u7528 cloud-init \u6587\u4ef6\u521d\u59cb\u5316\u865a\u62df\u673a"}),"\n",(0,a.jsxs)(s.h3,{id:"\u793a\u4f8b-cloud-inityaml",children:["\u793a\u4f8b ",(0,a.jsx)(s.code,{children:"cloud-init.yaml"})]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-yaml",children:"#cloud-config\nusers:\n  - default\n  - name: ubuntu\n    ssh-authorized-keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIGhzxRKkAyam3hMbPzKPlbpeKV04t9EbYEBMT+2++eOE panda@MacBook-Pro-2.local\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n"})}),"\n",(0,a.jsx)(s.h3,{id:"\u4f7f\u7528\u8be5\u914d\u7f6e\u521b\u5efa\u865a\u62df\u673a",children:"\u4f7f\u7528\u8be5\u914d\u7f6e\u521b\u5efa\u865a\u62df\u673a"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass launch --name devbox --cloud-init cloud-init.yaml\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-\u67e5\u770b\u53ef\u7528\u7684\u955c\u50cf\u7248\u672c",children:"\ud83d\udccb \u67e5\u770b\u53ef\u7528\u7684\u955c\u50cf\u7248\u672c"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass find\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-\u662f\u5426\u6709\u56fe\u5f62\u754c\u9762",children:"\ud83d\udda5 \u662f\u5426\u6709\u56fe\u5f62\u754c\u9762\uff1f"}),"\n",(0,a.jsx)(s.p,{children:"Multipass \u539f\u751f\u4e0d\u5e26 GUI\uff0c\u4f46\u53ef\u4f7f\u7528\u4ee5\u4e0b\u66ff\u4ee3\u65b9\u6848\uff1a"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.a,{href:"https://github.com/canonical/multipass-tray",children:"Multipass Tray"}),"\uff1a\u975e\u5b98\u65b9\u56fe\u5f62\u754c\u9762"]}),"\n"]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-\u5176\u4ed6\u5e38\u7528\u547d\u4ee4",children:"\ud83d\udcce \u5176\u4ed6\u5e38\u7528\u547d\u4ee4"}),"\n",(0,a.jsx)(s.h3,{id:"\u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d",children:"\u6587\u4ef6\u4e0a\u4f20/\u4e0b\u8f7d"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass transfer ./localfile.txt devbox:/home/ubuntu/\n"})}),"\n",(0,a.jsx)(s.h3,{id:"\u542f\u52a8--\u505c\u6b62",children:"\u542f\u52a8 / \u505c\u6b62"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass stop devbox\nmultipass start devbox\n"})}),"\n",(0,a.jsx)(s.h3,{id:"\u91cd\u547d\u540d\u5b9e\u4f8b",children:"\u91cd\u547d\u540d\u5b9e\u4f8b"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass alias devbox newname\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.p,{children:"\u5982\u9700\u66f4\u591a\u5e2e\u52a9\uff0c\u53ef\u8fd0\u884c\uff1a"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"multipass --help\n"})})]})}function t(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>c});var l=n(6540);const a={},i=l.createContext(a);function d(e){const s=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),l.createElement(i.Provider,{value:s},e.children)}}}]);